<!DOCTYPE html>
<html>
    <head>
        <title>subarray</title>
        <script type="text/javascript" src="underscore-min.js"></script>
    </head>
    <body>
        <script> 
//            var array = "123456789";
            
//            var parseInteger = function(num) {return parseInt(num);};
//            
//            var sum = function(memo, num){ return memo + num; };
//
//            var sumOfSubArray = function (subArr){
//                
//                return  _.reduce(_.map(_.first(subArr,3), parseInteger), sum, 0);
//               
//            } 
//            
//            var iterator = function (num, key) {
//                
//                //                return key > 6 ? -(Number.MAX_VALUE) : sumOfSubArray(_.rest(array, key));
//                return key > 6 ? -(Number.MAX_VALUE) : sumOfSubArray(_.rest(array, key)); 
//
//            }

            //            var newArr = sumOfSubArray(array);
//            var newArr = function (array) _.max(_.map(array, iterator));
            
            var toReturn = function (input) {
                
                var multiply = function(memo, num){ return memo * num; };
                
                var sumOfSubArray = function (subArr) {
                
                    return  _.reduce(_.first(subArr, 5), multiply, 1);
                } 

                var iterator = function (num, key) {
 
                    return key > 995 ? -(Number.MAX_VALUE) : sumOfSubArray(_.rest(input, key)); 
                }
                
                return _.max(_.map(input, iterator));
            }

    
        </script>

    </body>
</html>

